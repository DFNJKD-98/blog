<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>MySQL学习记录 | DFNJKD98文档记录</title><meta name="author" content="DFNJKD98"><meta name="copyright" content="DFNJKD98"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="MySQL学习记录   初识SQL语句1.1 操作文件夹（库） 增——create database 库名 charset utf8; 查——show create database 库名;、show databases; 改——alter database 库名 charset gbk; 删——drop database 库名;  1.2 操作文件 （表） 切换文件夹：use 库名; 查看当前所">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL学习记录">
<meta property="og:url" content="https://dfnjkd98.gitee.io/hexo_blog/2022/07/07/MySQL%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/index.html">
<meta property="og:site_name" content="DFNJKD98文档记录">
<meta property="og:description" content="MySQL学习记录   初识SQL语句1.1 操作文件夹（库） 增——create database 库名 charset utf8; 查——show create database 库名;、show databases; 改——alter database 库名 charset gbk; 删——drop database 库名;  1.2 操作文件 （表） 切换文件夹：use 库名; 查看当前所">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
<meta property="article:published_time" content="2022-07-07T03:40:57.520Z">
<meta property="article:modified_time" content="2022-07-07T03:51:51.924Z">
<meta property="article:author" content="DFNJKD98">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><link rel="shortcut icon" href="/hexo_blog/img/favicon.png"><link rel="canonical" href="https://dfnjkd98.gitee.io/hexo_blog/2022/07/07/MySQL%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/hexo_blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/hexo_blog/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL学习记录',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-07-07 11:51:51'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/hexo_blog/archives/"><div class="headline">文章</div><div class="length-num">34</div></a></div><div class="data-item"><a href="/hexo_blog/tags/"><div class="headline">标签</div><div class="length-num">3</div></a></div><div class="data-item"><a href="/hexo_blog/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/hexo_blog/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/hexo_blog/">DFNJKD98文档记录</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/hexo_blog/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/hexo_blog/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">MySQL学习记录</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-07T03:40:57.520Z" title="发表于 2022-07-07 11:40:57">2022-07-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-07-07T03:51:51.924Z" title="更新于 2022-07-07 11:51:51">2022-07-07</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MySQL学习记录"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 align="center">MySQL学习记录</h1>


<h2 id="初识SQL语句"><a href="#初识SQL语句" class="headerlink" title="初识SQL语句"></a>初识SQL语句</h2><h3 id="1-1-操作文件夹（库）"><a href="#1-1-操作文件夹（库）" class="headerlink" title="1.1 操作文件夹（库）"></a>1.1 操作文件夹（库）</h3><ul>
<li><strong>增</strong>——<code>create database 库名 charset utf8;</code></li>
<li><strong>查</strong>——<code>show create database 库名;</code>、<code>show databases;</code></li>
<li><strong>改</strong>——<code>alter database 库名 charset gbk;</code></li>
<li><strong>删</strong>——<code>drop database 库名;</code></li>
</ul>
<h3 id="1-2-操作文件-（表）"><a href="#1-2-操作文件-（表）" class="headerlink" title="1.2 操作文件 （表）"></a>1.2 操作文件 （表）</h3><blockquote>
<p>切换文件夹：<code>use 库名;</code></p>
<p>查看当前所在文件夹：<code>select database();</code></p>
</blockquote>
<ul>
<li><strong>增</strong>——<code>create table 表名(id int, name char);</code></li>
<li><strong>查</strong>——<code>show create table 表名;</code>、<code>show tables;</code>、<code>desc 表名;</code></li>
<li><strong>改</strong>——<code>alter table 表名 modify name char(6);</code>、<code>alter table 表名 change name NAME char(7);</code></li>
<li><strong>删</strong>——<code>drop table 表名;</code></li>
</ul>
<h3 id="1-3-操作文件内容（记录）"><a href="#1-3-操作文件内容（记录）" class="headerlink" title="1.3 操作文件内容（记录）"></a>1.3 操作文件内容（记录）</h3><ul>
<li><strong>增</strong>——<code>insert 表名(id,name) values(1,&#39;egon1&#39;),(2,&#39;egon2&#39;),(3,&#39;egon3&#39;);</code></li>
<li><strong>查</strong>——<code>select id,name from 库名.表名;</code>、<code>select * from 库名.表名;</code></li>
<li><strong>改</strong>——<code>updata 库名.表名 set name=&#39;alex&#39;;</code>、<code>updata 库名.表名 set name=&#39;alex&#39; where id=2;</code></li>
<li><strong>删</strong>——<code>delete from 表名;</code>、<code>delete from 表名 where id=2;</code></li>
</ul>
<hr>
<h2 id="库操作"><a href="#库操作" class="headerlink" title="库操作"></a>库操作</h2><h3 id="1-1-系统数据库"><a href="#1-1-系统数据库" class="headerlink" title="1.1 系统数据库"></a>1.1 系统数据库</h3><ul>
<li><p><strong>information_schema</strong></p>
<blockquote>
<p>虚拟库，不占用磁盘空间，存储的是数据库启动后的一些参数，如用户表信息、列信息、权限信息、字符信息等</p>
</blockquote>
</li>
<li><p><strong>performance_schema</strong></p>
<blockquote>
<p>MySQL 5.5开始新增的一个数据库</p>
<p>主要用于收集数据库服务器性能参数，记录处理查询请求时发生的各种事件、锁等现象</p>
</blockquote>
</li>
<li><p><strong>mysql</strong></p>
<blockquote>
<p>授权库，主要存储系统用户的权限信息</p>
</blockquote>
</li>
<li><p><strong>test</strong></p>
<blockquote>
<p>MySQL数据库系统自动创建的测试数据库</p>
</blockquote>
</li>
</ul>
<h3 id="1-2-创建数据库"><a href="#1-2-创建数据库" class="headerlink" title="1.2 创建数据库"></a>1.2 创建数据库</h3><h4 id="1-2-1-语法"><a href="#1-2-1-语法" class="headerlink" title="1.2.1 语法"></a>1.2.1 语法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database 数据库名 charset utf8;</span><br></pre></td></tr></table></figure>

<h4 id="1-2-2-数据库命名规则："><a href="#1-2-2-数据库命名规则：" class="headerlink" title="1.2.2 数据库命名规则："></a>1.2.2 数据库命名规则：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">可以由字母、数字、下划线、@、#、$组成</span><br><span class="line">区分大小写</span><br><span class="line">具有唯一性</span><br><span class="line">不能使用关键字，如：create、select</span><br><span class="line">最长128位</span><br></pre></td></tr></table></figure>

<h3 id="1-3-数据库相关操作"><a href="#1-3-数据库相关操作" class="headerlink" title="1.3 数据库相关操作"></a>1.3 数据库相关操作</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">增加数据库</span><br><span class="line">	——create database 库名 charset utf8;</span><br><span class="line">查看数据库</span><br><span class="line">	——show create database 库名;</span><br><span class="line">	——show databases;</span><br><span class="line">	——select database(); # 查看当前在哪个库下面</span><br><span class="line">选择数据库</span><br><span class="line">	——use 库名;</span><br><span class="line">修改数据库</span><br><span class="line">	——alter database 库名 charset gbk;</span><br><span class="line">删除数据库</span><br><span class="line">	——drop database 库名;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-导出数据库"><a href="#1-4-导出数据库" class="headerlink" title="1.4 导出数据库"></a>1.4 导出数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">导出数据库：mysqldump -u 用户名 -p 数据库名 &gt; 导出的文件名</span><br><span class="line"></span><br><span class="line">如::mysqldump -u root -p news &gt; news.sql   (输入后会让你输入进入MySQL的密码)</span><br><span class="line"></span><br><span class="line">如果导出单张表的话在数据库名后面输入表名即可</span><br><span class="line"></span><br><span class="line">会看到文件news.sql自动生成到终端中的路径下   </span><br></pre></td></tr></table></figure>

<hr>
<h2 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h2><h3 id="1-1-存储引擎的介绍"><a href="#1-1-存储引擎的介绍" class="headerlink" title="1.1 存储引擎的介绍"></a>1.1 存储引擎的介绍</h3><h4 id="1-1-1-什么是存储引擎"><a href="#1-1-1-什么是存储引擎" class="headerlink" title="1.1.1 什么是存储引擎"></a>1.1.1 什么是存储引擎</h4><p>mysql中建立的库&#x3D;&#x3D;&#x3D;&gt;文件夹</p>
<p>库中建立的表&#x3D;&#x3D;&#x3D;&gt; 文件</p>
<p>现实生活中我们用来存储数据的文件有不同的类型，每种文件类型对应各自不同的处理机制；比如处理文本用txt类型，处理表格用excel，处理图片用png等</p>
<p>数据库中的表也应该有不同的类型，表的类型不同，会对应mysql不同的存取机制，<strong>表类型又称为存储引擎</strong></p>
<p>存储引擎说白了就是如何存储数据，如何为了存储的数据建立索引和如何更新、查询数据等技术的实现方法。因为在关系数据库中数据的存储是以表的形式存储的，所以存储引擎也可以称为表类型（即存储和操作此表的类型）</p>
<p>在Oracle和SQL Server等数据库中只有一种存储引擎，所有数据存储管理机制都是一样的。而MySql数据库提供了多种存储引擎。用户可以根据不同的需求为数据表选择不同的存储引擎，用户也可以根据自己的需求编写自己的存储引擎</p>
<h4 id="1-1-2-mysql支持的存储引擎"><a href="#1-1-2-mysql支持的存储引擎" class="headerlink" title="1.1.2 mysql支持的存储引擎"></a>1.1.2 mysql支持的存储引擎</h4><blockquote>
<p>MariaDB[(none)]&gt; <code>show engines;</code>    # 查看所有支持的存储引擎</p>
<p>MariaDB[(none)]&gt; <code>show variables like &#39;storage_engine%&#39;;</code></p>
</blockquote>
<h4 id="1-1-3-指定表类型-x2F-存储引擎"><a href="#1-1-3-指定表类型-x2F-存储引擎" class="headerlink" title="1.1.3 指定表类型&#x2F;存储引擎"></a>1.1.3 指定表类型&#x2F;存储引擎</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create table t1(id int)engine=innodb;</span><br><span class="line">create table t2(id int)engine=memory;</span><br><span class="line">create table t3(id int)engine=blackhole;</span><br><span class="line">create table t4(id int)engine=myisam;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-表的增删改查"><a href="#1-2-表的增删改查" class="headerlink" title="1.2 表的增删改查"></a>1.2 表的增删改查</h3><h4 id="1-2-1-表介绍"><a href="#1-2-1-表介绍" class="headerlink" title="1.2.1 表介绍"></a>1.2.1 表介绍</h4><p>表相当于文件，表中的一条记录就相当于文件的一行内容，不同的是，表中的一条记录有对应的标题，称为<strong>表的字段</strong></p>
<h4 id="1-2-2-创建表"><a href="#1-2-2-创建表" class="headerlink" title="1.2.2 创建表"></a>1.2.2 创建表</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">字段名1 类型[(宽度) 约束条件],</span><br><span class="line">字段名2 类型[(宽度) 约束条件],</span><br><span class="line">字段名3 类型[(宽度) 约束条件]</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 注意：</span><br><span class="line">1. 在同一张表中，字段名是不能相同的</span><br><span class="line">2. 宽度和约束条件可选</span><br><span class="line">3. 字段名和类型是必须的</span><br></pre></td></tr></table></figure>

<h4 id="1-2-3-查看表结构"><a href="#1-2-3-查看表结构" class="headerlink" title="1.2.3 查看表结构"></a>1.2.3 查看表结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">describe 表名;</span><br><span class="line"># 查看表结构，可简写为desc 表名</span><br><span class="line">show create table 表名\G;</span><br><span class="line"># 查看表的详细结构，可加\G</span><br></pre></td></tr></table></figure>

<h4 id="1-2-4-修改表结构"><a href="#1-2-4-修改表结构" class="headerlink" title="1.2.4 修改表结构"></a>1.2.4 修改表结构</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">1. 修改表名</span><br><span class="line">	alter table 表名</span><br><span class="line">					rename 新表名;</span><br><span class="line">2. 增加字段</span><br><span class="line">	alter table 表名</span><br><span class="line">					add 字段名 数据类型 [完整性约束条件··],</span><br><span class="line">					add 字段名 数据类型 [完整性约束条件··];</span><br><span class="line">	alter table 表名</span><br><span class="line">					add 字段名 数据类型 [完整性约束条件··] first;</span><br><span class="line">	alter table 表名</span><br><span class="line">					add 字段名 数据类型 [完整性约束条件··] after 字段名;</span><br><span class="line">3. 删除字段</span><br><span class="line">	alter table 表名</span><br><span class="line">					drop 字段名;</span><br><span class="line">4. 修改字段</span><br><span class="line">	alter table 表名</span><br><span class="line">					modify 字段名 数据类型 [完整性约束条件··];</span><br><span class="line">	alter table 表名</span><br><span class="line">					change 旧字段名 新字段名 旧数据类型 [完整性约束条件··];</span><br><span class="line">	alter table 表名</span><br><span class="line">					change 旧字段名 新字段名 新数据类型 [完整性约束条件··];</span><br></pre></td></tr></table></figure>

<h4 id="1-2-5-复制表"><a href="#1-2-5-复制表" class="headerlink" title="1.2.5 复制表"></a>1.2.5 复制表</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">复制表结构+记录（key不会复制；主键、外键和索引）</span><br><span class="line">create table new_service select * from service;</span><br><span class="line"></span><br><span class="line">只复制表结构（两种方法）</span><br><span class="line">select * from service where 1=2; # 条件为假，查不到任何记录</span><br><span class="line">create table new1_service select * from service where 1=2;</span><br><span class="line">create table t4 like employees;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-数据类型"><a href="#1-3-数据类型" class="headerlink" title="1.3 数据类型"></a>1.3 数据类型</h3><h4 id="1-3-1-数值类型"><a href="#1-3-1-数值类型" class="headerlink" title="1.3.1 数值类型"></a>1.3.1 数值类型</h4><ul>
<li><p><strong>整数类型</strong></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>tiny int</td>
<td>1字节</td>
<td>小整数值</td>
</tr>
<tr>
<td>small int</td>
<td>2字节</td>
<td>大整数值</td>
</tr>
<tr>
<td>medium int</td>
<td>3字节</td>
<td>大整数值</td>
</tr>
<tr>
<td>int 或 integer</td>
<td>4字节</td>
<td>大整数值</td>
</tr>
<tr>
<td>big int</td>
<td>8字节</td>
<td>极大整数值</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 使用例子</span><br><span class="line"># 最小显示宽度为10，不足则0填充</span><br><span class="line">create table t1(id int(10) unsigned zerofill)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>浮点型</strong></p>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>float</td>
<td>4字节</td>
<td>单精度<br/>浮点数值</td>
</tr>
<tr>
<td>double</td>
<td>8字节</td>
<td>双精度<br/>浮点数值</td>
</tr>
<tr>
<td>decimal</td>
<td>DECIMAL(M,D) ，如果M&gt;D，为M+2否则为D+2</td>
<td>小数值</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># FLOAT[(M,D)] [UNSIGNED] [ZEROFILL]</span><br><span class="line">定义：</span><br><span class="line">	单精度浮点数，m是数字总个数，d是小数点后个数，m最大值为255，d最大值为30</span><br><span class="line"></span><br><span class="line">*********************************************</span><br><span class="line"># DOUBLE[(M,D)] [UNSIGNED] [ZEROFILL]</span><br><span class="line">定义：</span><br><span class="line">	双精度浮点数，m是数字总个数，d是小数点后个数，m最大值为255，d最大值为30</span><br><span class="line"></span><br><span class="line">*********************************************</span><br><span class="line"># DECIMAL[(M,D)] [UNSIGNED] [ZEROFILL]</span><br><span class="line">定义：</span><br><span class="line">	准确的小数值，m是数字总个数（负号不算），d是小数点后个数，m最大值为65，d最大值为30</span><br><span class="line">	</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-3-2-日期类型"><a href="#1-3-2-日期类型" class="headerlink" title="1.3.2 日期类型"></a>1.3.2 日期类型</h4><ul>
<li><p><strong>使用方法</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table student(</span><br><span class="line">	id int,</span><br><span class="line">    name char(6),</span><br><span class="line">    born_year year,    # 年</span><br><span class="line">    birth_date date,   # 年、月、日</span><br><span class="line">    class_time time,   # 时、分、秒</span><br><span class="line">    reg_time, datetime # 年、月、日、时、分、秒</span><br><span class="line">);</span><br><span class="line">insert into student values(1,&#x27;egon&#x27;,now(),now(),now(),now());</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>datetime与timestamp的区别</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">在实际应用的很多场景中，MySQL的这两种 日期类型都能够满足我们的需要，存储精度都为秒，但在某些情况下，会展现出他们各自的优劣。</span><br><span class="line"></span><br><span class="line">下面就来总结一下两种日期类型的区别。</span><br><span class="line"></span><br><span class="line">1. DATETIME的日期范围是1001-9999年， TIMESTAMP的时间范围是1970-2038年。</span><br><span class="line"></span><br><span class="line">2.DATETIME存储时间与时区无关，TIMESTAMP存储时间与时区有关，显示的值也依赖于时区。在mysql服务器，</span><br><span class="line">操作系统以及客户端连接都有时区的设置。</span><br><span class="line"></span><br><span class="line">3. DATETIME使用8字节的存储空间，TIMESTAMP的存储空间为4字节。因此，TIMESTAMP比IDATETIME的空间利用率更高。</span><br><span class="line"></span><br><span class="line">4.DATETIME的默认值为null; TIMESTAMP的字段默认不为空(not null),默认值为当前时间(CURRENT TIMESTAMP)，</span><br><span class="line">如果不做特殊处理，并且update语句中没有指定该列的更新值，则默认更新为当前时间。</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="1-3-3-字符串类型"><a href="#1-3-3-字符串类型" class="headerlink" title="1.3.3 字符串类型"></a>1.3.3 字符串类型</h4><ul>
<li><strong>char</strong>——定长</li>
<li><strong>varchar</strong>——变长</li>
</ul>
<h4 id="1-3-4-枚举类型与集合类型"><a href="#1-3-4-枚举类型与集合类型" class="headerlink" title="1.3.4 枚举类型与集合类型"></a>1.3.4 枚举类型与集合类型</h4><blockquote>
<p>字段的值只能在给定范围中选择，如单选框，多选框</p>
<p>enum 单选只能在给定的范围内选一个值，如性别sex 男male&#x2F;女female</p>
<p>set 多选在给定的范围内可以选择一个或一个以上的值(爱好1 ,爱好2,爱好…)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">create table consumer(</span><br><span class="line">    id int,</span><br><span class="line">    name char(16),</span><br><span class="line">    sex enum(&#x27;male&#x27; ,&#x27;female&#x27;,&#x27;other&#x27;),</span><br><span class="line">    level enum(&#x27;vip1&#x27;,&#x27;vip2&#x27;,&#x27;vip3&#x27;)，</span><br><span class="line">    hobbies set(&#x27;play&#x27; ,&#x27;music&#x27;,&#x27;read&#x27;,&#x27;run&#x27;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into consumer values(1,&#x27;egon&#x27;,&#x27;male&#x27;,&#x27;vip2&#x27;,&#x27;music,read&#x27;);</span><br><span class="line"></span><br><span class="line"># 当传入的数据不在定好的范围内时，不会报错，而是内容为空</span><br></pre></td></tr></table></figure>

<h3 id="1-4-完整性约束"><a href="#1-4-完整性约束" class="headerlink" title="1.4 完整性约束"></a>1.4 完整性约束</h3><h4 id="1-4-1-not-null-和-default"><a href="#1-4-1-not-null-和-default" class="headerlink" title="1.4.1 not null 和 default"></a>1.4.1 not null 和 default</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 性别不可以为空，如果为空，则使用默认值（男）</span><br><span class="line">create table t16(</span><br><span class="line">    id int,</span><br><span class="line">    name char(6),</span><br><span class="line">    sex enum(&#x27;male&#x27; ,&#x27;female&#x27;) not null default &#x27;male&#x27;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="1-4-2-unique-key"><a href="#1-4-2-unique-key" class="headerlink" title="1.4.2 unique key"></a>1.4.2 unique key</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 单列唯一</span><br><span class="line"># 方式一</span><br><span class="line">create table department(</span><br><span class="line">    id int unique,</span><br><span class="line">    name char(10) unique</span><br><span class="line">);</span><br><span class="line"># 方式二:</span><br><span class="line">create table department(</span><br><span class="line">    id int,</span><br><span class="line">    name char(10),</span><br><span class="line">    unique(id),</span><br><span class="line">    unique(name)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 如果插入的数值重复，则会报错</span><br><span class="line">insert into department values(1,&#x27;IT&#x27;),(2,&#x27;Sale&#x27;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 联合唯一</span><br><span class="line"># ip可以重复，port可以重复，但是ip+port不可以重复</span><br><span class="line">create table services(</span><br><span class="line">    id int,</span><br><span class="line">    ip char(15),</span><br><span class="line">    port int,</span><br><span class="line">    unique(id),</span><br><span class="line">    unique(ip,port)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="1-4-3-primary-key"><a href="#1-4-3-primary-key" class="headerlink" title="1.4.3 primary key"></a>1.4.3 primary key</h4><blockquote>
<p>约束: <strong>not null 且 unique</strong></p>
<p>存储引擎(innodb) :对于innodb存储引擎来说，一张表内必须有一个主键</p>
<p>如果表中没有指定主键字段，则从上到下寻找第一个不为空且唯一的字段。如果还找不到，则用隐藏字段来作为主键</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 单列主键</span><br><span class="line">create table t17(</span><br><span class="line">    id int primary key,</span><br><span class="line">    name char(16)</span><br><span class="line">);</span><br><span class="line">insert into t17 values(1,&#x27;egon&#x27;),(2,&#x27;alex&#x27;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 复合主键</span><br><span class="line">create table t19(</span><br><span class="line">    ip char(15),</span><br><span class="line">    port int,</span><br><span class="line">    primary key(ip,port)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-4-4-auto"><a href="#1-4-4-auto" class="headerlink" title="1.4.4 auto"></a>1.4.4 auto</h4><blockquote>
<p><strong>清空含有自增长字段的表时，用<code>truncate 表名;</code>命令，不要用<code>delete from 表名;</code></strong></p>
<p><strong>因为<code>delete</code>不会清除表对auto_increment的记录（即下一个应该记录的id）</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># auto_ increment</span><br><span class="line">create table t20(</span><br><span class="line">    id int primary key auto_increment,</span><br><span class="line">    name char(16)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 不输入id时，id字段自动增加</span><br><span class="line">insert into t20(name) values(&#x27;egon&#x27;),(&#x27;alex&#x27;),(&#x27;wxx&#x27;);</span><br><span class="line"></span><br><span class="line"># 再输入id时，可以不按照顺序来</span><br><span class="line">insert into t20(id,name) values(7,&#x27;yuanhao&#x27;);</span><br><span class="line"></span><br><span class="line"># 再再输入数据时，自增长按照最后一个记录的id增加</span><br><span class="line">insert into t20(name) values(&#x27;egon1&#x27;),(&#x27;egon2&#x27;),(&#x27;egon3&#x27;); </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 了解</span><br><span class="line">	# 查看所有开头为auto_inc的变量名</span><br><span class="line">    show variables like &#x27;auto_inc%&#x27;;</span><br><span class="line">    # 步长:</span><br><span class="line">    auto_increment_increment默认为1</span><br><span class="line">    # 起始偏移量</span><br><span class="line">    auto_increment_offset默认 1</span><br><span class="line">    </span><br><span class="line">    # 设置步长</span><br><span class="line">    set session auto_increment_increment= 5;	# 本次会话有效</span><br><span class="line">    set global auto_increment_increment= 5;		# 每次会话都有效，但是得重新登录生效</span><br><span class="line">    </span><br><span class="line">    # 设置起始偏移量</span><br><span class="line">    set global auto_increment_offset=3;</span><br><span class="line">    # 强调:起始偏移量 &lt;= 步长</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-4-5-foreign-key"><a href="#1-4-5-foreign-key" class="headerlink" title="1.4.5 foreign key"></a>1.4.5 foreign key</h4><blockquote>
<p><strong>不建议使用，因为会使得表与表之间的联系很强，不利于后续的扩展</strong></p>
<p><strong>建议直接使用程序实现其中的逻辑</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">foreign key:建立表之间的关系</span><br><span class="line">#1、建立表关系:</span><br><span class="line">#先建被关联的表,并且保证被关联的字段唯一</span><br><span class="line">create table dep(</span><br><span class="line">    id int primary key, </span><br><span class="line">    name char(16)，</span><br><span class="line">    comment char(50)</span><br><span class="line">);</span><br><span class="line">#再建关联的表</span><br><span class="line">create table emp(</span><br><span class="line">    id int primary key,</span><br><span class="line">    name char(10),</span><br><span class="line">    sex enum(&#x27;male&#x27; ,&#x27;female&#x27;),</span><br><span class="line">    dep_ id int,</span><br><span class="line">    foreign key(dep_ id) references dep(id)</span><br><span class="line">    on delete cascade # 删除同步</span><br><span class="line">    on update cascade # 更新同步</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#2.插入数据.</span><br><span class="line">#先往被关联表插入记录</span><br><span class="line">insert into dep values</span><br><span class="line">(1,&quot;IT&quot;,&quot;技术能力有限部门&quot;),</span><br><span class="line">(2,&quot;销售&quot;,&quot;销售能力不足部门&quot;),</span><br><span class="line">(3,&quot;财务&quot;,&quot;花钱特别多部门&quot;);</span><br><span class="line"></span><br><span class="line">#再往关联表插入记录</span><br><span class="line">insert into emp values</span><br><span class="line">(1,&#x27;egon&#x27;,&#x27;male&#x27;,1),</span><br><span class="line">(2,&#x27;alex&#x27;,&#x27;male&#x27;,1),</span><br><span class="line">(3,&#x27;wupeiqi&#x27;,&#x27;female&#x27;,2),</span><br><span class="line">(4,&#x27;yuanhao&#x27;,&#x27;male&#x27;,3),</span><br><span class="line">(5,&#x27;jinximn&#x27;,&#x27;male&#x27;,2);</span><br></pre></td></tr></table></figure>

<h3 id="1-5-表关系"><a href="#1-5-表关系" class="headerlink" title="1.5 表关系"></a>1.5 表关系</h3><h4 id="1-5-1-多对一"><a href="#1-5-1-多对一" class="headerlink" title="1.5.1 多对一"></a>1.5.1 多对一</h4><p>foreign key</p>
<h4 id="1-5-2-多对多"><a href="#1-5-2-多对多" class="headerlink" title="1.5.2 多对多"></a>1.5.2 多对多</h4><p>另外建立一个表，id，foreign key，foreign key</p>
<h4 id="1-5-3-一对一"><a href="#1-5-3-一对一" class="headerlink" title="1.5.3 一对一"></a>1.5.3 一对一</h4><p>foreign key，unique</p>
<hr>
<h2 id="单表查询"><a href="#单表查询" class="headerlink" title="单表查询"></a>单表查询</h2><h3 id="1-1-单表查询的语法"><a href="#1-1-单表查询的语法" class="headerlink" title="1.1 单表查询的语法"></a>1.1 单表查询的语法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT 字段1,字段2... FROM 表名</span><br><span class="line">                  WHERE 条件</span><br><span class="line">                  GROUP BY field</span><br><span class="line">                  HAVING 筛选</span><br><span class="line">                  ORDER BY field</span><br><span class="line">                  LIMIT 限制条数</span><br></pre></td></tr></table></figure>

<h3 id="1-2-关键字的执行优先级"><a href="#1-2-关键字的执行优先级" class="headerlink" title="1.2 关键字的执行优先级"></a>1.2 关键字的执行优先级</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from      #找到表</span><br><span class="line">where     #拿着where指定的约束条件，去表中取出一条条记录</span><br><span class="line">group by  #将取出的一条条记录进行分组group by，如果没有group by，则整体作为一组</span><br><span class="line">having    #将分组的结果进行having过滤</span><br><span class="line">select    #执行select</span><br><span class="line">distinct  #去重</span><br><span class="line">order by  #将结果按条件排序</span><br><span class="line">limit     #限制结果的显示条数</span><br></pre></td></tr></table></figure>

<h3 id="1-3-简单查询"><a href="#1-3-简单查询" class="headerlink" title="1.3 简单查询"></a>1.3 简单查询</h3><h4 id="1-3-1-准备表和记录"><a href="#1-3-1-准备表和记录" class="headerlink" title="1.3.1 准备表和记录"></a>1.3.1 准备表和记录</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"># 准备表和记录</span><br><span class="line">company.employee</span><br><span class="line">    员工id      id                  int             </span><br><span class="line">    姓名        emp_name            varchar</span><br><span class="line">    性别        sex                 enum</span><br><span class="line">    年龄        age                 int</span><br><span class="line">    入职日期     hire_date           date</span><br><span class="line">    岗位        post                varchar</span><br><span class="line">    职位描述     post_comment        varchar</span><br><span class="line">    薪水        salary              double</span><br><span class="line">    办公室       office              int</span><br><span class="line">    部门编号     depart_id           int</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#创建表</span><br><span class="line">create table employee(</span><br><span class="line">id int not null unique auto_increment,</span><br><span class="line">name varchar(20) not null,</span><br><span class="line">sex enum(&#x27;male&#x27;,&#x27;female&#x27;) not null default &#x27;male&#x27;, #大部分是男的</span><br><span class="line">age int(3) unsigned not null default 28,</span><br><span class="line">hire_date date not null,</span><br><span class="line">post varchar(50),</span><br><span class="line">post_comment varchar(100),</span><br><span class="line">salary double(15,2),</span><br><span class="line">office int, #一个部门一个屋子</span><br><span class="line">depart_id int</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#插入记录</span><br><span class="line">#三个部门：教学，销售，运营</span><br><span class="line">insert into employee(name,sex,age,hire_date,post,salary,office,depart_id) values</span><br><span class="line">(&#x27;egon&#x27;,&#x27;male&#x27;,18,&#x27;20170301&#x27;,&#x27;沙河办事处外交大使&#x27;,7300.33,401,1), #以下是教学部</span><br><span class="line">(&#x27;alex&#x27;,&#x27;male&#x27;,78,&#x27;20150302&#x27;,&#x27;teacher&#x27;,1000000.31,401,1),</span><br><span class="line">(&#x27;wupeiqi&#x27;,&#x27;male&#x27;,81,&#x27;20130305&#x27;,&#x27;teacher&#x27;,8300,401,1),</span><br><span class="line">(&#x27;yuanhao&#x27;,&#x27;male&#x27;,73,&#x27;20140701&#x27;,&#x27;teacher&#x27;,3500,401,1),</span><br><span class="line">(&#x27;liwenzhou&#x27;,&#x27;male&#x27;,28,&#x27;20121101&#x27;,&#x27;teacher&#x27;,2100,401,1),</span><br><span class="line">(&#x27;jingliyang&#x27;,&#x27;female&#x27;,18,&#x27;20110211&#x27;,&#x27;teacher&#x27;,9000,401,1),</span><br><span class="line">(&#x27;jinxin&#x27;,&#x27;male&#x27;,18,&#x27;19000301&#x27;,&#x27;teacher&#x27;,30000,401,1),</span><br><span class="line">(&#x27;成龙&#x27;,&#x27;male&#x27;,48,&#x27;20101111&#x27;,&#x27;teacher&#x27;,10000,401,1),</span><br><span class="line"></span><br><span class="line">(&#x27;歪歪&#x27;,&#x27;female&#x27;,48,&#x27;20150311&#x27;,&#x27;sale&#x27;,3000.13,402,2),#以下是销售部门</span><br><span class="line">(&#x27;丫丫&#x27;,&#x27;female&#x27;,38,&#x27;20101101&#x27;,&#x27;sale&#x27;,2000.35,402,2),</span><br><span class="line">(&#x27;丁丁&#x27;,&#x27;female&#x27;,18,&#x27;20110312&#x27;,&#x27;sale&#x27;,1000.37,402,2),</span><br><span class="line">(&#x27;星星&#x27;,&#x27;female&#x27;,18,&#x27;20160513&#x27;,&#x27;sale&#x27;,3000.29,402,2),</span><br><span class="line">(&#x27;格格&#x27;,&#x27;female&#x27;,28,&#x27;20170127&#x27;,&#x27;sale&#x27;,4000.33,402,2),</span><br><span class="line"></span><br><span class="line">(&#x27;张野&#x27;,&#x27;male&#x27;,28,&#x27;20160311&#x27;,&#x27;operation&#x27;,10000.13,403,3), #以下是运营部门</span><br><span class="line">(&#x27;程咬金&#x27;,&#x27;male&#x27;,18,&#x27;19970312&#x27;,&#x27;operation&#x27;,20000,403,3),</span><br><span class="line">(&#x27;程咬银&#x27;,&#x27;female&#x27;,18,&#x27;20130311&#x27;,&#x27;operation&#x27;,19000,403,3),</span><br><span class="line">(&#x27;程咬铜&#x27;,&#x27;male&#x27;,18,&#x27;20150411&#x27;,&#x27;operation&#x27;,18000,403,3),</span><br><span class="line">(&#x27;程咬铁&#x27;,&#x27;female&#x27;,18,&#x27;20140512&#x27;,&#x27;operation&#x27;,17000,403,3);</span><br><span class="line"></span><br><span class="line">#ps：如果在windows系统中，插入中文字符，select的结果为空白，可以将所有字符编码统一设置成gbk</span><br><span class="line"></span><br><span class="line">准备表和记录</span><br></pre></td></tr></table></figure>

<h4 id="1-3-2-简单查询"><a href="#1-3-2-简单查询" class="headerlink" title="1.3.2 简单查询"></a>1.3.2 简单查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#简单查询</span><br><span class="line">    SELECT id,name,sex,age,hire_date,post,post_comment,salary,office,depart_id </span><br><span class="line">    FROM employee;</span><br><span class="line"></span><br><span class="line">    SELECT * FROM employee;</span><br><span class="line"></span><br><span class="line">    SELECT name,salary FROM employee;</span><br><span class="line"></span><br><span class="line">#避免重复DISTINCT</span><br><span class="line">    SELECT DISTINCT post FROM employee;</span><br><span class="line"></span><br><span class="line">#使用SELECT 列1, 列2, 列3 FROM ...时，还可以给每一列起个别名，这样，结果集的列名就可以与原表的列名不同。</span><br><span class="line">#	语法：SELECT 列1 别名1, 列2 别名2, 列3 别名3 FROM ...</span><br><span class="line">	SELECT id card_id, name FROM employee;</span><br><span class="line"></span><br><span class="line">#通过四则运算查询</span><br><span class="line">    SELECT name, salary*12 FROM employee;</span><br><span class="line">    SELECT name, salary*12 AS Annual_salary FROM employee;</span><br><span class="line">    SELECT name, salary*12 Annual_salary FROM employee;</span><br><span class="line"></span><br><span class="line">#定义显示格式</span><br><span class="line">   CONCAT() 函数用于连接字符串</span><br><span class="line">   SELECT CONCAT(&#x27;姓名: &#x27;,name,&#x27;  年薪: &#x27;, salary*12)  AS Annual_salary </span><br><span class="line">   FROM employee;</span><br><span class="line">   </span><br><span class="line">   CONCAT_WS() 第一个参数为分隔符</span><br><span class="line">   SELECT CONCAT_WS(&#x27;:&#x27;,name,salary*12)  AS Annual_salary </span><br><span class="line">   FROM employee;</span><br><span class="line"></span><br><span class="line">   结合CASE语句：</span><br><span class="line">   SELECT</span><br><span class="line">       (</span><br><span class="line">           CASE</span><br><span class="line">           WHEN NAME = &#x27;egon&#x27; THEN</span><br><span class="line">               NAME</span><br><span class="line">           WHEN NAME = &#x27;alex&#x27; THEN</span><br><span class="line">               CONCAT(name,&#x27;_BIGSB&#x27;)</span><br><span class="line">           ELSE</span><br><span class="line">               concat(NAME, &#x27;SB&#x27;)</span><br><span class="line">           END</span><br><span class="line">       ) as new_name</span><br><span class="line">   FROM</span><br><span class="line">       emp;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-where-约束"><a href="#1-4-where-约束" class="headerlink" title="1.4 where 约束"></a>1.4 where 约束</h3><blockquote>
<p>where字句中可以使用：</p>
<ol>
<li>比较运算符：&gt; &lt; &gt;&#x3D; &lt;&#x3D; &lt;&gt; !&#x3D;</li>
<li>between 80 and 100 值在10到20之间</li>
<li>in(80,90,100) 值是10或20或30</li>
<li>like ‘egon%’<br>  pattern可以是%或_，<br>  %表示任意多字符<br>  _表示一个字符</li>
<li>逻辑运算符：在多个条件直接可以使用逻辑运算符 and or not</li>
</ol>
</blockquote>
<h4 id="1-4-1-单条件查询"><a href="#1-4-1-单条件查询" class="headerlink" title="1.4.1 单条件查询"></a>1.4.1 单条件查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT name FROM employee WHERE post=&#x27;sale&#x27;;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-2-多条件查询"><a href="#1-4-2-多条件查询" class="headerlink" title="1.4.2 多条件查询"></a>1.4.2 多条件查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT name,salary FROM employee WHERE post=&#x27;teacher&#x27; AND salary&gt;10000;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-3-关键字-between-and"><a href="#1-4-3-关键字-between-and" class="headerlink" title="1.4.3 关键字 between and"></a>1.4.3 关键字 between and</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name,salary FROM employee WHERE salary BETWEEN 10000 AND 20000;</span><br><span class="line"></span><br><span class="line">SELECT name,salary FROM employee WHERE salary NOT BETWEEN 10000 AND 20000;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-4-关键字-is-null"><a href="#1-4-4-关键字-is-null" class="headerlink" title="1.4.4 关键字 is null"></a>1.4.4 关键字 is null</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT name,post_comment FROM employee WHERE post_comment IS NULL;</span><br><span class="line"></span><br><span class="line">SELECT name,post_comment FROM employee WHERE post_comment IS NOT NULL;</span><br><span class="line">        </span><br><span class="line">SELECT name,post_comment FROM employee WHERE post_comment=&#x27;&#x27;; </span><br><span class="line"># 注意&#x27;&#x27;是空字符串，不是null</span><br><span class="line"># 执行update employee set post_comment=&#x27;&#x27; where id=2;再用上条查看，就会有结果了</span><br></pre></td></tr></table></figure>

<h4 id="1-4-5-关键字-in-集合查询"><a href="#1-4-5-关键字-in-集合查询" class="headerlink" title="1.4.5 关键字 in 集合查询"></a>1.4.5 关键字 in 集合查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT name,salary FROM employee WHERE salary=3000 OR salary=3500 OR salary=4000 OR salary=9000 ;</span><br><span class="line">    </span><br><span class="line">SELECT name,salary FROM employee WHERE salary IN (3000,3500,4000,9000);</span><br><span class="line"></span><br><span class="line">SELECT name,salary FROM employee WHERE salary NOT IN (3000,3500,4000,9000) ;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-6-关键字-like-模糊查询"><a href="#1-4-6-关键字-like-模糊查询" class="headerlink" title="1.4.6 关键字 like 模糊查询"></a>1.4.6 关键字 like 模糊查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 通配符’%’</span><br><span class="line">SELECT * FROM employee WHERE name LIKE &#x27;eg%&#x27;;</span><br><span class="line"></span><br><span class="line"># 通配符’_’</span><br><span class="line">SELECT * FROM employee WHERE name LIKE &#x27;al__&#x27;;</span><br></pre></td></tr></table></figure>

<h3 id="1-5-分组查询-group-by"><a href="#1-5-分组查询-group-by" class="headerlink" title="1.5 分组查询 group by"></a>1.5 分组查询 group by</h3><h4 id="1-5-1-什么是分组？为什么要分组？"><a href="#1-5-1-什么是分组？为什么要分组？" class="headerlink" title="1.5.1 什么是分组？为什么要分组？"></a>1.5.1 什么是分组？为什么要分组？</h4><blockquote>
<p>1、首先明确一点：分组发生在where之后，即分组是基于where之后得到的记录而进行的</p>
<p>2、分组指的是：将所有记录按照某个相同字段进行归类，比如针对员工信息表的职位分组，或者按照性别进行分组等</p>
<p>3、为何要分组呢？<br>    取每个部门的最高工资<br>    取每个部门的员工数<br>    取男人数和女人数</p>
<p>小窍门：‘每’这个字后面的字段，就是我们分组的依据</p>
<p>4、大前提：<br>    可以按照任意字段分组，但是分组完毕后，比如group by post，只能查看post字段，如果想查看组内信息，需要借助于聚合函数</p>
</blockquote>
<h4 id="1-5-2-only-full-group-by"><a href="#1-5-2-only-full-group-by" class="headerlink" title="1.5.2 only_full_group_by"></a>1.5.2 only_full_group_by</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#查看MySQL 5.7默认的sql_mode如下：</span><br><span class="line">mysql&gt; select @@global.sql_mode;</span><br><span class="line">ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span><br><span class="line"></span><br><span class="line">#！！！注意</span><br><span class="line">ONLY_FULL_GROUP_BY的语义就是确定select target list中的所有列的值都是明确语义，简单的说来，在ONLY_FULL_GROUP_BY模式下，target list中的值要么是来自于聚集函数的结果，要么是来自于group by list中的表达式的值。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#设置sql_mole如下操作(我们可以去掉ONLY_FULL_GROUP_BY模式)：</span><br><span class="line">mysql&gt; set global sql_mode=&#x27;STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&#x27;;</span><br><span class="line"></span><br><span class="line">！！！SQL_MODE设置！！！</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select @@global.sql_mode;</span><br><span class="line">+-------------------+</span><br><span class="line">| @@global.sql_mode |</span><br><span class="line">+-------------------+</span><br><span class="line">|                   |</span><br><span class="line">+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp group by post; </span><br><span class="line">+----+------+--------+-----+------------+----------------------------+--------------+------------+--------+-----------+</span><br><span class="line">| id | name | sex    | age | hire_date  | post                       | post_comment | salary     | office | depart_id |</span><br><span class="line">+----+------+--------+-----+------------+----------------------------+--------------+------------+--------+-----------+</span><br><span class="line">| 14 | 张野 | male   |  28 | 2016-03-11 | operation                  | NULL         |   10000.13 |    403 |         3 |</span><br><span class="line">|  9 | 歪歪 | female |  48 | 2015-03-11 | sale                       | NULL         |    3000.13 |    402 |         2 |</span><br><span class="line">|  2 | alex | male   |  78 | 2015-03-02 | teacher                    | NULL         | 1000000.31 |    401 |         1 |</span><br><span class="line">|  1 | egon | male   |  18 | 2017-03-01 | 老男孩驻沙河办事处外交大使 | NULL         |    7300.33 |    401 |         1 |</span><br><span class="line">+----+------+--------+-----+------------+----------------------------+--------------+------------+--------+-----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#由于没有设置ONLY_FULL_GROUP_BY,于是也可以有结果，默认都是组内的第一条记录，但其实这是没有意义的</span><br><span class="line"></span><br><span class="line">mysql&gt; set global sql_mode=&#x27;ONLY_FULL_GROUP_BY&#x27;;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; quit #设置成功后，一定要退出，然后重新登录方可生效</span><br><span class="line">Bye</span><br><span class="line"></span><br><span class="line">mysql&gt; use db1;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; select * from emp group by post; #报错</span><br><span class="line">ERROR 1055 (42000): &#x27;db1.emp.id&#x27; isn&#x27;t in GROUP BY</span><br><span class="line">mysql&gt; select post,count(id) from emp group by post; #只能查看分组依据和使用聚合函数</span><br><span class="line">+----------------------------+-----------+</span><br><span class="line">| post                       | count(id) |</span><br><span class="line">+----------------------------+-----------+</span><br><span class="line">| operation                  |         5 |</span><br><span class="line">| sale                       |         5 |</span><br><span class="line">| teacher                    |         7 |</span><br><span class="line">| 老男孩驻沙河办事处外交大使 |         1 |</span><br><span class="line">+----------------------------+-----------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h4 id="1-5-3-GROUP-BY"><a href="#1-5-3-GROUP-BY" class="headerlink" title="1.5.3 GROUP BY"></a>1.5.3 GROUP BY</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">单独使用GROUP BY关键字分组</span><br><span class="line">    SELECT post FROM employee GROUP BY post;</span><br><span class="line">    注意：我们按照post字段分组，那么select查询的字段只能是post，想要获取组内的其他相关信息，需要借助函数</span><br><span class="line"></span><br><span class="line">GROUP BY关键字和GROUP_CONCAT()函数一起使用</span><br><span class="line">    SELECT post,GROUP_CONCAT(name) FROM employee GROUP BY post;#按照岗位分组，并查看组内成员名</span><br><span class="line">    SELECT post,GROUP_CONCAT(name) as emp_members FROM employee GROUP BY post;</span><br><span class="line"></span><br><span class="line">GROUP BY与聚合函数一起使用</span><br><span class="line">    select post,count(id) as count from employee group by post;#按照岗位分组，并查看每个组有多少人</span><br></pre></td></tr></table></figure>

<h4 id="1-5-4-聚合函数"><a href="#1-5-4-聚合函数" class="headerlink" title="1.5.4 聚合函数"></a>1.5.4 聚合函数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#强调：聚合函数聚合的是组的内容，若是没有分组，则默认一组</span><br><span class="line"></span><br><span class="line">#示例：</span><br><span class="line">    SELECT COUNT(*) FROM employee; # employee表有多少条记录</span><br><span class="line">    SELECT COUNT(*) FROM employee WHERE depart_id=1; # employee表中满足条件的有多少条记录</span><br><span class="line">    SELECT MAX(salary) FROM employee; # salary字段的最大值，可以不是数值类型</span><br><span class="line">    SELECT MIN(salary) FROM employee; # salary字段的最小值，可以不是数值类型</span><br><span class="line">    SELECT AVG(salary) FROM employee; # salary字段的平均值， 该列必须为数值类型</span><br><span class="line">    SELECT SUM(salary) FROM employee; # salary字段的和，该列必须为数值类型</span><br><span class="line">    SELECT SUM(salary) FROM employee WHERE depart_id=3;</span><br><span class="line"></span><br><span class="line"># WHERE 条件不符合时，COUNT函数返回0，MAX,MIN,AVG,SUM返回NULL</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="1-6-having过滤"><a href="#1-6-having过滤" class="headerlink" title="1.6 having过滤"></a>1.6 having过滤</h3><blockquote>
<p>执行优先级从高到低：where &gt; group by &gt; having </p>
<ol>
<li><p>Where 发生在分组group by之前，因而Where中可以有任意字段，但是绝对不能使用聚合函数。</p>
</li>
<li><p>Having发生在分组group by之后，因而Having中可以使用分组的字段，无法直接取到其他字段,可以使用聚合函数</p>
</li>
</ol>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select @@sql_mode;</span><br><span class="line">+--------------------+</span><br><span class="line">| @@sql_mode         |</span><br><span class="line">+--------------------+</span><br><span class="line">| ONLY_FULL_GROUP_BY |</span><br><span class="line">+--------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp where salary &gt; 100000;</span><br><span class="line">+----+------+------+-----+------------+---------+--------------+------------+--------+-----------+</span><br><span class="line">| id | name | sex  | age | hire_date  | post    | post_comment | salary     | office | depart_id |</span><br><span class="line">+----+------+------+-----+------------+---------+--------------+------------+--------+-----------+</span><br><span class="line">|  2 | alex | male |  78 | 2015-03-02 | teacher | NULL         | 1000000.31 |    401 |         1 |</span><br><span class="line">+----+------+------+-----+------------+---------+--------------+------------+--------+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from emp having salary &gt; 100000;</span><br><span class="line">ERROR 1463 (42000): Non-grouping field &#x27;salary&#x27; is used in HAVING clause</span><br><span class="line"></span><br><span class="line">mysql&gt; select post,group_concat(name) from emp group by post having salary &gt; 10000;#错误，分组后无法直接取到salary字段</span><br><span class="line">ERROR 1054 (42S22): Unknown column &#x27;salary&#x27; in &#x27;having clause&#x27;</span><br><span class="line">mysql&gt; select post,group_concat(name) from emp group by post having avg(salary) &gt; 10000;</span><br><span class="line">+-----------+-------------------------------------------------------+</span><br><span class="line">| post | group_concat(name) |</span><br><span class="line">+-----------+-------------------------------------------------------+</span><br><span class="line">| operation | 程咬铁,程咬铜,程咬银,程咬金,张野 |</span><br><span class="line">| teacher | 成龙,jinxin,jingliyang,liwenzhou,yuanhao,wupeiqi,alex |</span><br><span class="line">+-----------+-------------------------------------------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">验证</span><br></pre></td></tr></table></figure>

<h3 id="1-7-查询排序-ORDER-BY"><a href="#1-7-查询排序-ORDER-BY" class="headerlink" title="1.7 查询排序 ORDER BY"></a>1.7 查询排序 ORDER BY</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 按单列排序</span><br><span class="line">    SELECT * FROM employee ORDER BY salary; # 从低到高</span><br><span class="line">    SELECT * FROM employee ORDER BY salary ASC; # 升序： 从小到大</span><br><span class="line">    SELECT * FROM employee ORDER BY salary DESC; # 倒序</span><br><span class="line"></span><br><span class="line"># 按多列排序:先按照age排序，如果年纪相同，则按照薪资排序</span><br><span class="line">    SELECT * from employee ORDER BY age, salary DESC;</span><br></pre></td></tr></table></figure>

<h3 id="1-8-限制查询的记录数-LIMIT"><a href="#1-8-限制查询的记录数-LIMIT" class="headerlink" title="1.8 限制查询的记录数 LIMIT"></a>1.8 限制查询的记录数 LIMIT</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 默认初始位置为0 </span><br><span class="line">SELECT * FROM employee ORDER BY salary DESC LIMIT 3;  </span><br><span class="line"></span><br><span class="line"># 从第0开始，即先查询出第一条，然后包含这一条在内往后查5条</span><br><span class="line">SELECT * FROM employee ORDER BY salary DESC LIMIT 0,5; </span><br><span class="line"></span><br><span class="line"># 从第5开始，即先查询出第6条，然后包含这一条在内往后查5条</span><br><span class="line">SELECT * FROM employee ORDER BY salary DESC LIMIT 5,5; </span><br><span class="line"></span><br><span class="line"># 每页三条数据(pageSize)，查询第二页数据(pageIndex)</span><br><span class="line">SELECT id, name, gender, score FROM students ORDER BY score DESC LIMIT 3 OFFSET 3;</span><br><span class="line"></span><br><span class="line"># LIMIT = pageSize</span><br><span class="line"># OFFSET = pageSize * (pageIndex - 1)</span><br><span class="line"># OFFSET 超过存储的数据容量时，得到空的结果集</span><br><span class="line"># OFFSET 是可选的，如果只写LIMIT 15，那么相当于LIMIT 15 OFFSET 0</span><br><span class="line"># LIMIT 15 OFFSET 0 还可以写成LIMIT 30,15</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="1-9-正则表达式查询"><a href="#1-9-正则表达式查询" class="headerlink" title="1.9 正则表达式查询"></a>1.9 正则表达式查询</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM employee WHERE name REGEXP &#x27;^ale&#x27;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM employee WHERE name REGEXP &#x27;on$&#x27;;</span><br><span class="line"></span><br><span class="line">SELECT * FROM employee WHERE name REGEXP &#x27;m&#123;2&#125;&#x27;;</span><br><span class="line"></span><br><span class="line"># 小结：对字符串匹配的方式</span><br><span class="line">WHERE name = &#x27;egon&#x27;;</span><br><span class="line">WHERE name LIKE &#x27;yua%&#x27;;</span><br><span class="line">WHERE name REGEXP &#x27;on$&#x27;;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">DFNJKD98</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://dfnjkd98.gitee.io/hexo_blog/2022/07/07/MySQL%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">https://dfnjkd98.gitee.io/hexo_blog/2022/07/07/MySQL%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://dfnjkd98.gitee.io/hexo_blog" target="_blank">DFNJKD98文档记录</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/hexo_blog/2022/07/07/Nodejs%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/hexo_blog/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Nodejs学习记录</div></div></a></div><div class="next-post pull-right"><a href="/hexo_blog/2022/07/07/MySQL%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/hexo_blog/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">MySQL存储引擎</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/hexo_blog/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">DFNJKD98</div><div class="author-info__description"></div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/hexo_blog/archives/"><div class="headline">文章</div><div class="length-num">34</div></a></div><div class="card-info-data-item"><a href="/hexo_blog/tags/"><div class="headline">标签</div><div class="length-num">3</div></a></div><div class="card-info-data-item"><a href="/hexo_blog/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">初次使用Hexo部署博客,更多内容还在迁移中...</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">MySQL学习记录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E8%AF%86SQL%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.1.</span> <span class="toc-text">初识SQL语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%88%E5%BA%93%EF%BC%89"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 操作文件夹（库）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6-%EF%BC%88%E8%A1%A8%EF%BC%89"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 操作文件 （表）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E6%93%8D%E4%BD%9C%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%EF%BC%88%E8%AE%B0%E5%BD%95%EF%BC%89"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3 操作文件内容（记录）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.</span> <span class="toc-text">库操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E7%B3%BB%E7%BB%9F%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.1 系统数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2 创建数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E8%AF%AD%E6%B3%95"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">1.2.1 语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99%EF%BC%9A"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">1.2.2 数据库命名规则：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.3 数据库相关操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E5%AF%BC%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.4.</span> <span class="toc-text">1.4 导出数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.3.</span> <span class="toc-text">表操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.1 存储引擎的介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">1.1.1 什么是存储引擎</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-2-mysql%E6%94%AF%E6%8C%81%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">1.1.2 mysql支持的存储引擎</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-%E6%8C%87%E5%AE%9A%E8%A1%A8%E7%B1%BB%E5%9E%8B-x2F-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">1.1.3 指定表类型&#x2F;存储引擎</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E8%A1%A8%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.2 表的增删改查</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-1-%E8%A1%A8%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">1.2.1 表介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-2-%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">1.2.2 创建表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-3-%E6%9F%A5%E7%9C%8B%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">1.2.3 查看表结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-4-%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">1.2.4 修改表结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-5-%E5%A4%8D%E5%88%B6%E8%A1%A8"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">1.2.5 复制表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3 数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">1.3.1 数值类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">1.3.2 日期类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">1.3.3 字符串类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-4-%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.3.4.</span> <span class="toc-text">1.3.4 枚举类型与集合类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E5%AE%8C%E6%95%B4%E6%80%A7%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.3.4.</span> <span class="toc-text">1.4 完整性约束</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-1-not-null-%E5%92%8C-default"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">1.4.1 not null 和 default</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-unique-key"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">1.4.2 unique key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-3-primary-key"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">1.4.3 primary key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-4-auto"><span class="toc-number">1.3.4.4.</span> <span class="toc-text">1.4.4 auto</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-5-foreign-key"><span class="toc-number">1.3.4.5.</span> <span class="toc-text">1.4.5 foreign key</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%E8%A1%A8%E5%85%B3%E7%B3%BB"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.5 表关系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-1-%E5%A4%9A%E5%AF%B9%E4%B8%80"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">1.5.1 多对一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-2-%E5%A4%9A%E5%AF%B9%E5%A4%9A"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">1.5.2 多对多</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-3-%E4%B8%80%E5%AF%B9%E4%B8%80"><span class="toc-number">1.3.5.3.</span> <span class="toc-text">1.5.3 一对一</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.</span> <span class="toc-text">单表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2%E7%9A%84%E8%AF%AD%E6%B3%95"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.1 单表查询的语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E6%89%A7%E8%A1%8C%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.2 关键字的执行优先级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.3.</span> <span class="toc-text">1.3 简单查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-1-%E5%87%86%E5%A4%87%E8%A1%A8%E5%92%8C%E8%AE%B0%E5%BD%95"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">1.3.1 准备表和记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-2-%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">1.3.2 简单查询</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-where-%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.4.4.</span> <span class="toc-text">1.4 where 约束</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-1-%E5%8D%95%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">1.4.1 单条件查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.4.2.</span> <span class="toc-text">1.4.2 多条件查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-3-%E5%85%B3%E9%94%AE%E5%AD%97-between-and"><span class="toc-number">1.4.4.3.</span> <span class="toc-text">1.4.3 关键字 between and</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-4-%E5%85%B3%E9%94%AE%E5%AD%97-is-null"><span class="toc-number">1.4.4.4.</span> <span class="toc-text">1.4.4 关键字 is null</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-5-%E5%85%B3%E9%94%AE%E5%AD%97-in-%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.4.5.</span> <span class="toc-text">1.4.5 关键字 in 集合查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-6-%E5%85%B3%E9%94%AE%E5%AD%97-like-%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.4.6.</span> <span class="toc-text">1.4.6 关键字 like 模糊查询</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2-group-by"><span class="toc-number">1.4.5.</span> <span class="toc-text">1.5 分组查询 group by</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%88%86%E7%BB%84%EF%BC%9F%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%88%86%E7%BB%84%EF%BC%9F"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">1.5.1 什么是分组？为什么要分组？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-2-only-full-group-by"><span class="toc-number">1.4.5.2.</span> <span class="toc-text">1.5.2 only_full_group_by</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-3-GROUP-BY"><span class="toc-number">1.4.5.3.</span> <span class="toc-text">1.5.3 GROUP BY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-4-%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-number">1.4.5.4.</span> <span class="toc-text">1.5.4 聚合函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-having%E8%BF%87%E6%BB%A4"><span class="toc-number">1.4.6.</span> <span class="toc-text">1.6 having过滤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-%E6%9F%A5%E8%AF%A2%E6%8E%92%E5%BA%8F-ORDER-BY"><span class="toc-number">1.4.7.</span> <span class="toc-text">1.7 查询排序 ORDER BY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-8-%E9%99%90%E5%88%B6%E6%9F%A5%E8%AF%A2%E7%9A%84%E8%AE%B0%E5%BD%95%E6%95%B0-LIMIT"><span class="toc-number">1.4.8.</span> <span class="toc-text">1.8 限制查询的记录数 LIMIT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.4.9.</span> <span class="toc-text">1.9 正则表达式查询</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/hexo_blog/2022/07/07/%E5%B0%8F%E7%9F%A5%E8%AF%86%E7%82%B9/" title="小知识点"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/hexo_blog/img/404.jpg'" alt="小知识点"/></a><div class="content"><a class="title" href="/hexo_blog/2022/07/07/%E5%B0%8F%E7%9F%A5%E8%AF%86%E7%82%B9/" title="小知识点">小知识点</a><time datetime="2022-07-07T03:40:57.801Z" title="发表于 2022-07-07 11:40:57">2022-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/hexo_blog/2022/07/07/%E4%B9%A6%E7%AD%BE%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E/" title="书签目录说明"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/hexo_blog/img/404.jpg'" alt="书签目录说明"/></a><div class="content"><a class="title" href="/hexo_blog/2022/07/07/%E4%B9%A6%E7%AD%BE%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E/" title="书签目录说明">书签目录说明</a><time datetime="2022-07-07T03:40:57.785Z" title="发表于 2022-07-07 11:40:57">2022-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/hexo_blog/2022/07/07/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="设计模式"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/hexo_blog/img/404.jpg'" alt="设计模式"/></a><div class="content"><a class="title" href="/hexo_blog/2022/07/07/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="设计模式">设计模式</a><time datetime="2022-07-07T03:40:57.775Z" title="发表于 2022-07-07 11:40:57">2022-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/hexo_blog/2022/07/07/%E5%A5%BD%E7%89%A9%E6%8E%A8%E8%8D%90/" title="好物推荐"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/hexo_blog/img/404.jpg'" alt="好物推荐"/></a><div class="content"><a class="title" href="/hexo_blog/2022/07/07/%E5%A5%BD%E7%89%A9%E6%8E%A8%E8%8D%90/" title="好物推荐">好物推荐</a><time datetime="2022-07-07T03:40:57.758Z" title="发表于 2022-07-07 11:40:57">2022-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/hexo_blog/2022/07/07/Windows%E9%85%8D%E7%BD%AE/" title="Windows配置"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/hexo_blog/img/404.jpg'" alt="Windows配置"/></a><div class="content"><a class="title" href="/hexo_blog/2022/07/07/Windows%E9%85%8D%E7%BD%AE/" title="Windows配置">Windows配置</a><time datetime="2022-07-07T03:40:57.743Z" title="发表于 2022-07-07 11:40:57">2022-07-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By DFNJKD98</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/hexo_blog/js/utils.js"></script><script src="/hexo_blog/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>